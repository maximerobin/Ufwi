# File generated by EdenWall: {{ _generation_time_ }}

###############################################################################
# Access Control
###############################################################################

####
# First, map the community name (COMMUNITY) into a security name
# (local and mynetwork, depending on where the request is coming
# from):

#       sec.name  source          community
#com2sec readonly  default         public
#com2sec readwrite default         private
com2sec readonly   127.0.0.0/8     public
{% for row in v2c_list -%}
com2sec readonly {{ row.0 }} {{ row.1 }}
{% endfor %}

####
# Second, map the security names into group names:

#             	sec.model  sec.name
group MyROSystem v1        paranoid
group MyROSystem v2c       paranoid
#group MyROSystem usm       paranoid
group MyROGroup v1         readonly
group MyROGroup v2c        readonly
#group MyROGroup usm        readonly

{% for row in v3_list -%}
group MyROPrivGroup usm {{ row.0 }}
{% endfor %}

####
# Third, create a view for us to let the groups have rights to:

#           incl/excl subtree                          mask
view all    included  .1                               80
view system included  .iso.org.dod.internet.mgmt.mib-2.system

####
# Finally, grant the 2 groups access to the 1 view with different
# write permissions:

#                context sec.model sec.level match  read   write  notif
access MyROSystem ""     any       noauth    exact  system none   none
access MyROGroup ""      any       noauth    exact  all    none   none
access MyROPrivGroup ""  usm       priv      exact  all    none   none
#access MyRWGroup ""      any       noauth    exact  all    all    none

# -----------------------------------------------------------------------------

view all    included  .1
view system included  .iso.org.dod.internet.mgmt.mib-2.system


###############################################################################
# System contact information
#

# It is also possible to set the sysContact and sysLocation system
# variables through the snmpd.conf file.  **PLEASE NOTE** that setting
# the value of these objects here makes these objects READ-ONLY
# (regardless of any access control settings).  Any attempt to set the
# value of an object whose value is given here will fail with an error
# status of notWritable.

syslocation {{ syslocation }}
syscontact {{ syscontact }}

# Example output of snmpwalk:
#   % snmpwalk -v 1 -c public localhost system
#   system.sysDescr.0 = "SunOS name sun4c"
#   system.sysObjectID.0 = OID: enterprises.ucdavis.ucdSnmpAgent.sunos4
#   system.sysUpTime.0 = Timeticks: (595637548) 68 days, 22:32:55
#   system.sysContact.0 = "Me <me@somewhere.org>"
#   system.sysName.0 = "name"
#   system.sysLocation.0 = "Right here, right now."
#   system.sysServices.0 = 72


